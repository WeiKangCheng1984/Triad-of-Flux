import { CardWeight, SingleCardResult } from '@/types/card';

export function interpretSingleCard(card: CardWeight): SingleCardResult {
  const contextMap: Record<CardWeight['category'], string> = {
    天: '適合思考能量狀態和心理節奏的問題',
    地: '適合思考環境現實和空間定位的問題',
    人: '適合思考社交角色和身份認同的問題',
    變數: '適合思考意外事件和失控反應的問題'
  };

  const adviceMap: Record<string, string> = {
    '立春': '這是一個新開始的時刻，給自己時間慢慢成長，不要急於求成。',
    '雨水': '珍惜現有的資源，精打細算，每一份資源都有其價值。',
    '驚蟄': '局勢正在變化，主動出擊比被動應對更能掌握主動權。',
    '春分': '平衡是關鍵，找到讓自己舒服的節奏，不要強求完美。',
    '清明': '真相已經浮現，不要再逃避，勇敢面對現實。',
    '穀雨': '現在是打好基礎的關鍵期，不要急著看成果。',
    '立夏': '擴張期來臨，確保你的體力和心情都準備好了。',
    '小滿': '已經有成績了，但還不是收割的時候，再等等。',
    '芒種': '忙碌是為了重要的事，不要讓自己陷入瞎忙。',
    '夏至': '能量達到高峰，但也要思考如何優雅地退場。',
    '小暑': '壓力來臨，分辨是別人的問題還是自己要求太高。',
    '大暑': '如果快爆炸了，先離開現場，保護自己最重要。',
    '立秋': '風向變了，冷靜思考這件事是否還值得繼續。',
    '處暑': '大勢已定，放下那些沒意義的擔心。',
    '白露': '想法冷卻後，看看現實是否真的能接受。',
    '秋分': '有得必有失，評估你得到的東西是否值得。',
    '寒露': '環境變冷，不要硬撐，找個伴商量。',
    '霜降': '如果註定結束，不要捨不得，該斷則斷。',
    '立冬': '回歸私生活，這不是空虛，而是必要的休息。',
    '小雪': '能喘口氣了，先不管別人，好好休息。',
    '大雪': '雖然沒發揮空間，但可以在暗處準備大招。',
    '冬至': '最難熬的時候，也是新希望的開始。',
    '小寒': '就差最後一哩路，不要找藉口放棄。',
    '大寒': '最糟的情況就在這了，挺過去就沒什麼好怕的。',
    '孤峰': '站得高看得遠，但也要注意資源的稀缺。',
    '深淵': '未知中藏著寶藏，但需要勇氣跳下去。',
    '平原': '機會多但競爭也多，不要迷失焦點。',
    '迷宮': '牆可能是自己蓋的，思考是否真的需要這些限制。',
    '要塞': '安全但限制自由，不要一輩子躲在裡面。',
    '孤島': '雖然孤立，但這也是展現獨立能力的機會。',
    '十字路口': '站在抉擇點，相信自己的直覺。',
    '溫室': '舒適但難長大，記得要出去淋雨。',
    '獨木橋': '只能一人通行，準備好獨自前進。',
    '廢墟': '舊的已爛掉，考慮蓋新的而不是修復。',
    '劇場': '大家都在看，演給自己愛的而不是給人看。',
    '後花園': '私密空間，好好享受不用交成績單的時光。',
    '繼承者': '站在巨人肩膀上，但決定要為自己而做。',
    '局外人': '保持距離能客觀觀察，但也要思考是否真的不需要。',
    '調停者': '讓每個人滿意時，不要忘記自己的委屈。',
    '領航員': '領導者需要承擔責任，但也需要坦誠面對不確定性。',
    '隱士': '獨處是為了尋找答案，但不要完全逃避現實。',
    '競爭者': '對手刺激你，但也要思考是否真的需要證明。',
    '後援者': '享受「成功不必在我」，但也思考是否渴望被看見。',
    '反叛者': '挑戰權威時，思考是為了價值觀還是單純反對。',
    '崇拜者': '崇拜他人時，思考是否想透過他補足自卑。',
    '導師': '教別人時，是分享智慧還是享受高人一等的感覺。',
    '流浪者': '急著想走時，思考是沒留戀還是害怕安定。',
    '救贖者': '想救別人時，思考自己是否也需要被救贖。',
    '旁觀者': '保護自己時，思考是否變成了冷血動物。',
    '背叛者': '離開時，思考是否能理直氣壯地說為了自己好。',
    '學徒': '「我不懂」時，思考是真謙卑還是逃避責任。',
    '玩伴': '享樂時，思考撇開玩樂是否還想在一起。',
    '守門人': '握著權力時，思考是想幫大家還是證明重要。',
    '陌生人': '感到陌生時，思考是他們變了還是自己走太遠。',
    '閃電': '突如其來的打擊，保護核心價值最重要。',
    '地震': '根基動搖，思考是否敢推倒一切重新來過。',
    '彩虹': '美麗的誘惑，思考是機會還是陷阱。',
    '迷路': '導航失效，相信自己的直覺。',
    '止步': '路走不通，轉身看看被忽略的風景。',
    '加速': '一切都太快，敢不敢主動踩下煞車。',
    '空白': '訊號全無，感受自己的存在。',
    '禮物': '意外的支援，思考是否心安理得，準備好交換。',
    '醜聞': '秘密被揭開，思考是毀滅還是解脫。',
    '遺失': '弄丟重要的東西，思考是真的重要還是不習慣失去。',
    '相遇': '遇到不在計畫中的人，思考是推開還是一起冒險。',
    '重逢': '舊人出現，思考是逃避還是勇敢了結。',
    '崩塌': '系統瓦解，思考是絕望還是重新開始的興奮。',
    '狂風': '環境嘈雜，閉上眼睛只聽自己的心跳。',
    '乾涸': '資源耗盡，思考是否該停下來徹底枯萎。',
    '火花': '微小的靈感，思考是否願意為它燒掉安穩。',
    '陷阱': '掉進圈套，思考是抱怨還是思考怎麼爬出來。',
    '奇蹟': '必死之局出現轉機，思考是應得的還是警告。'
  };

  return {
    meaning: card.keywords.join('、'),
    advice: adviceMap[card.name] || '仔細思考這張卡牌帶給你的啟示。',
    context: contextMap[card.category]
  };
}


---
alwaysApply: true
---
技術棧:
Next.js 14（App Router）
TypeScript 5：
Framer Motion
Tailwind CSS 3：快速做UI
Lucide React：

部署：Vercel：靜態資產 + SSR/CSR 混用、快速迭代上線

【天地人卡牌】
天 卡牌
節氣
資訊 A：天意（能量狀態）
資訊 B：自問（心理節奏）
01 立春
冰雪融化，新能量在暗處啟動。
「這件事還在初期，你願意花時間陪它慢慢長大嗎？」
02 雨水
資源像小雨般降臨，不多但剛好。
「環境給你的資源，你有沒有好好接住、精打細算？」
03 驚蟄
一聲雷響打破僵局，局勢變熱鬧。
「大家都動起來了，你是被逼著走，還是自己想衝？」
04 春分
晝夜平分，處於最完美的平衡。
「現在這種各方平衡的狀態，讓你覺得舒服還是卡卡的？」
05 清明
天氣清朗，原本看不清的事物現形。
「既然一切都攤開來了，你還打算繼續假裝看不見嗎？」
06 穀雨
最後灌溉期，適合把基礎做紮實。
「如果不急著看成果，你現在最想加強哪項基本功？」
07 立夏
萬物快長，人際與項目進入擴張。
「事情變多變快了，你確定你的體力與心情跟得上嗎？」
08 小滿
稻穗快飽滿了，雖未收成但見希望。
「已經有一點成績了，你會想趕快收割還是再等一下？」
09 芒種
最忙時刻，播種與收穫同時進行。
「你現在這麼忙，是為了重要的事，還是只是在瞎忙？」
10 夏至
能量最高點，物極必反，需留後路。
「現在是你最有影響力的時候，你有想過怎麼退場嗎？」
11 小暑
天氣悶熱，環境壓力大，心生煩躁。
「這種煩人的壓力，是別人的問題還是你要求太高？」
12 大暑
壓力頂點，易爆發衝突或崩潰。
「如果快爆炸了，你有沒有勇氣先離開現場躲一下？」
13 立秋
風向變了，熱鬧退去，思考收尾。
「熱度退了一點，現在冷靜想，這件事還值得嗎？」
14 處暑
暑氣殘留，大勢已定，僅餘波折。
「大局已定，你能不能放下那些沒意義的擔心了？」
15 白露
天氣轉涼，想法冷卻，適合做決定。
「拿掉那些衝動和夢想，剩下的現實你真的能接受嗎？」
16 秋分
得失各半，適合盤點手頭資源。
「有得必有失，你得到的東西真的值得付出的代價嗎？」
17 寒露
氣溫下降，環境冷清，需尋溫暖。
「現在環境變冷了，你打算硬撐還是找個伴商量？」
18 霜降
關係或機會即將終結，該斷則斷。
「如果註定結束，你是捨不得它，還是不甘心放手？」
19 立冬
進入休息模式，適合回歸家庭內心。
「如果暫時沒有舞台了，回歸私生活你會覺得空虛嗎？」
20 小雪
外在動能減弱，要求變少，適合睡覺。
「好不容易能喘口氣，你能不能先不管別人好好休息？」
21 大雪
環境封閉期，不宜變動，適合積蓄。
「現在雖然沒發揮空間，你有沒有在偷偷準備大招？」
22 冬至
黑暗最長，也是光明回來的轉捩點。
「現在可能是最難熬的時候，你有感覺到新希望嗎？」
23 小寒
考驗未結束，環境艱難，需毅力。
「就差最後一哩路，你想找藉口放棄還是再撐一下？」
24 大寒
最冷之時，也是春天的最後洗禮。
「最糟的情況就在這了，若這都挺得過還有什麼好怕？」



–
地 卡牌

名稱
資訊 A：天意（環境現實）
資訊 B：自問（空間定位）
01 孤峰
視野極佳但資源稀缺，無人支援。
「你站這麼高是為了看清方向，還是想享受沒人管？」
02 深淵
下方是未知恐懼，也藏著珍貴寶藏。
「你不敢跳是因為下面太黑，還是不相信能跳過去？」
03 平原
機會多、競爭也多，容易失去焦點。
「路這麼寬你卻不動，是因為選擇太多讓你迷失了嗎？」
04 迷宮
牆壁林立，雖安全但都在原地打轉。
「你忙著找出口，但有沒有想過這牆是你自己蓋的？」
05 要塞
防禦森嚴，提供安全感但也限制自由。
「這牆保護你也關住你，你打算一輩子躲在裡面嗎？」
06 孤島
被隔絕，須自給自足，無法賴外援。
「現在沒人幫得了你，這是不是看清你本事的好機會？」
07 十字路口
動能停滯，必須做出方向性的抉擇。
「撇開正確答案不談，哪條路走起來最讓你興奮？」
08 溫室
環境舒適，有人遮風避雨，難長大。
「若一直不出去淋雨，你還會記得怎麼戰鬥嗎？」
09 獨木橋
只能一人通行，無退路，考驗平衡。
「這路無法帶人走，你準備好要為了目標獨自前進嗎？」
10 廢墟
舊體系垮了，荒涼中藏著重生契機。
「既然舊的已爛掉，你要花力氣修它還是乾脆蓋新的？」
11 劇場
眾人矚目，需展現表現力與演技。
「現在大家都在看，你是演給人看，還是演自己愛的？」
12 後花園
私密放鬆空間，無競爭，適合休養。
「不用交成績單的時候，你最想把時間花在什麼事上？」



–

人
卡牌
編號
牌名
資訊 A：天意（社交角色）
資訊 B：自問（身份認同）
01
繼承者
你正站在巨人的肩膀上，承接他人的資源、名聲或遺留的問題。
「你現在做的這些決定，是為了讓前輩滿意，還是為了你自己？」
02
局外人
你與核心圈保持距離，能客觀觀察，但也感到格格不入。
「你是真的不屑加入他們，還是因為害怕被拒絕，所以先假裝不需要？」
03
調停者
你處在衝突的中心，大家都希望你出來主持公道或緩和氣氛。
「你在忙著讓每個人都滿意的時候，是不是把自己內心的委屈給藏起來了？」
04
領航員
眾人的目光都在你身上，等待你下達指令，你是團隊的風向球。
「如果你其實也不知道路在哪裡，你有勇氣跟你的團隊坦白這件事嗎？」
05
隱士
你主動切斷了社交連結，選擇獨自思考，外界很難影響你。
「你現在的沉默是為了尋找答案，還是只是想逃避那些讓你頭痛的人？」
06
競爭者
你處於高度對抗的環境，身邊的人既是夥伴，也是威脅。
「如果沒有這個對手來刺激你，你還會這麼努力地證明自己的價值嗎？」
07
後援者
你的光芒隱藏在他人背後，默默支撐著計畫，不求名分。
「你是真的享受這種『成功不必在我』的感覺，還是你其實也渴望被看見？」
08
反叛者
你正在挑戰既有的規則或權威，周遭充滿懷疑與不認同。
「你是在為了正確的價值觀戰鬥，還是只是單純地想要反對這一切？」
09
崇拜者
你眼裡只有某個強大的對象，試圖模仿他，甚至將他神格化。
「你這麼崇拜他，是因為他真的很棒，還是因為你想透過他來補足自卑？」
10
導師
你正在傳授經驗，照顧比你資淺的人，感受被需要的價值。
「你在教別人的時候，是在分享智慧，還是只是想享受那種『高人一等』的感覺？」
11
流浪者
你的關係並不穩定，隨時準備離開，不對任何一段關係承諾。
「你這麼急著想走，是因為這裡真的沒留戀了，還是你害怕一旦安定就會受傷？」
12
救贖者
你習慣性地想去解決別人的問題，想把每個人都帶出苦海。
「你這麼想救別人，是不是因為你心裡也有一個地方正等著被救贖？」
13
旁觀者
你在岸上看著別人溺水或狂歡，不插手、不評價，僅僅看著。
「你把自己保護得這麼好，但也變成了關係裡的冷血動物，這是你要的嗎？」
14
背叛者
你正處於轉向的邊緣，可能為了更高的利益或生存而選擇離開。
「如果離開這段關係會讓你被罵，你還能理直氣壯地說這是為了自己好嗎？」
15
學徒
你正放下身段向環境學習，容許自己犯錯，也接受別人的指點。
「你現在這種『我不懂』的狀態，是真心的謙卑，還是逃避責任的藉口？」
16
玩伴
你們的關係建立在享樂與當下，不談未來，也不承擔沈重責任。
「如果撇開這些玩樂，你們坐下來安靜地聊天，你還會想跟這個人在一起嗎？」
17
守門人
你掌握著某種權力或資訊，由你決定誰能進場，誰必須離開。
「你現在握著這個權力，你是想幫大家解決問題，還是想證明你很重要？」
18
陌生人
你在人群中感到孤寂，雖然身邊有人，但靈魂無法交會。
「如果你現在對身邊的人感到陌生，是因為他們變了，還是你已經走太遠了？」



變數 卡牌
編號,牌名,資訊 A：天意（意外事件）,資訊 B：自問（失控反應）
01,閃電,突如其來的打擊，瞬間摧毀了你原本引以為傲的某個部分。,「當最慘的事發生時，你第一個想保護的是什麼？那才是你真正的核心。」
02,地震,根基動搖，你原本認為很穩定的事（如工作、感情）出現裂痕。,「如果現在的安穩都是假象，你敢不敢推倒一切重新來過？」
03,彩虹,出現一個美麗但短暫的誘惑，看起來像機會，但也可能是分心。,「這好事發生得太突然了，你是在慶幸好運，還是懷疑這只是個陷阱？」
04,迷路,導航失效，你發現原本走的路通往一個完全陌生的地方。,「在沒人告訴你方向的時候，你敢不敢相信自己的直覺走一次？」
05,止步,門被關上了，某種外在力量強制讓你無法再前進。,「如果這條路注定走不通，你能不能轉過身，看看身後被你忽略的風景？」
06,加速,事情進展快到你無法掌控，你被局勢推著往前衝。,「當一切都快得讓你喘不過氣時，你敢不敢主動踩下煞車？」
07,空白,訊號全無，所有人都消失了，你進入一段極度的寂靜期。,「在沒有人給你反饋、沒有訊息進來時，你還能感受到自己的存在嗎？」
08,禮物,得到一份你沒預料到的支援，但這份禮物可能帶著隱形的代價。,「這份好處拿得你心安理得嗎？你準備好要拿什麼去交換它了嗎？」
09,醜聞,隱藏的秘密被揭開，某種真相曝光，引發了公眾或周遭的討論。,「如果你最想隱瞞的事被知道了，你覺得那是毀滅，還是徹底的解脫？」
10,遺失,你弄丟了某個對你很重要、且無法取代的東西。,「你現在這麼痛苦，是因為那個東西真的很重要，還是你只是不習慣失去？」
11,相遇,遇到一個完全不在計畫中的人，徹底改變了你的思考邏輯。,「這個人的出現打亂了你的秩序，你是想把他推開，還是想跟他一起冒險？」
12,重逢,過去的陰影或舊人重新出現，要求你再次面對未竟之志。,「這次你打算用跟當年一樣的方法逃避，還是要勇敢地做個了結？」
13,崩塌,你辛苦建立的某個系統或計畫，因為一個小細節的失誤而瓦解。,「如果這件事必須從零開始，你心裡湧上的是絕望，還是重新開始的興奮？」
14,狂風,環境變得非常嘈雜，謠言四起，讓你很難聽到自己內心的聲音。,「在這麼亂的時候，你能不能閉上眼睛，只聽你自己的心跳聲？」
15,乾涸,靈感或資源突然耗盡，你感到自己空空的，擠不出任何東西。,「既然已經空了，你為什麼不乾脆停下來，讓自己徹底枯萎一陣子？」
16,火花,一個微小的靈感閃過，雖然微弱，但足以點燃整片森林。,「這個小小的念頭讓你心跳加速了嗎？你願意為了它燒掉現在的安穩嗎？」
17,陷阱,你發現自己掉進了一個設計好的圈套，或是自己挖的坑。,「你現在忙著抱怨別人害你，還是忙著思考怎麼從這個坑裡爬出來？」
18,奇蹟,必死之局突然出現轉機，一個完全不合理的解法生效了。,「當奇蹟發生的時候，你是覺得自己應得的，還是覺得這是一次警告？」
---

# 專案設計規劃與建議

## 一、卡牌類別架構

### 完整類別（共四類）
- **天（節氣）**：24 張 - 天意（能量狀態）+ 自問（心理節奏）
- **地（空間）**：12 張 - 天意（環境現實）+ 自問（空間定位）
- **人（角色）**：18 張 - 天意（社交角色）+ 自問（身份認同）
- **變數（意外）**：18 張 - 天意（意外事件）+ 自問（失控反應）

### 抽卡方案（已選擇：方案B）

**方案 B：四類各抽一張（已採用）**
- 從天、地、人、變數四類各抽一張，共四張卡牌
- 優點：完整涵蓋「天地人變」四個維度，每張卡牌都有獨立意義
- 抽卡順序：天 → 地 → 人 → 變數（依序進行）
- 運勢解讀：結合四張卡牌進行綜合分析

### 互動玩法（兩種模式）

**模式一：單卡抽籤（快速指引）**
- 從四類中隨機抽取一張卡牌
- 適用場景：快速心理認知、日常小指引、朋友互動話題
- 顯示：卡牌完整內容（類別、名稱、天意、自問）
- 簡短解讀：針對單張卡牌的即時建議

**模式二：四卡占卜（完整運勢）**
- 依序從天、地、人、變數各抽一張，共四張
- 適用場景：深度心理分析、完整運勢解讀、重要決策參考
- 顯示：四張卡牌 + 綜合運勢解讀
- 完整解讀：結合四張卡牌的深度分析與建議

## 二、技術棧

### 現有技術棧
- Next.js 14（App Router）
- TypeScript 5
- Framer Motion（動畫）
- Tailwind CSS 3
- Lucide React（圖標）
- 部署：Vercel

### 建議強化
1. **狀態管理**：Zustand（輕量級，管理抽卡流程與結果）
2. **音效**：Howler.js（翻牌、抽卡音效，可選）
3. **分享功能**：next-share（分享結果到社群媒體）

## 三、色系設計

### 類別色系方案（四選一）

**方案一：深色神秘 + 漸層光暈**
- **主色調**
  - 背景：深紫黑 (#0a0a1a) 或 深藍黑 (#0d1117)
  - 卡牌背面：深紫 (#1a1a2e) + 金色邊框 (#d4af37)
  - 卡牌正面：漸層背景（依類別不同）
- **類別色系**
  - **天（節氣）**：藍紫漸層 (#667eea → #764ba2) - 代表天空、能量
  - **地（空間）**：土黃/棕色漸層 (#f093fb → #f5576c) - 代表大地、環境
  - **人（角色）**：金橙漸層 (#f6d365 → #fda085) - 代表人性、關係
  - **變數（意外）**：紅紫漸層 (#c471ed → #f64f59) - 代表變動、轉折、意外
- **強調色**
  - 金色 (#d4af37) - 用於重要文字、邊框
  - 白色 (#ffffff) - 用於主要文字
  - 半透明灰 (#ffffff20) - 用於次要文字
- **特色**：神秘感強，適合夜間使用，視覺衝擊力高

**方案二：明亮清新 + 柔和漸層**
- **主色調**
  - 背景：淺灰白 (#f5f5f5) 或 米白色 (#fafafa)
  - 卡牌背面：淺灰 (#e8e8e8) + 淡金邊框 (#e6d5a8)
  - 卡牌正面：柔和漸層背景（依類別不同）
- **類別色系**
  - **天（節氣）**：天藍漸層 (#a8e6cf → #88d8c0) - 清新天空感
  - **地（空間）**：大地色漸層 (#d4a574 → #c19a6b) - 自然土壤感
  - **人（角色）**：暖粉漸層 (#ffd3b6 → #ffaaa5) - 溫暖人性感
  - **變數（意外）**：紫粉漸層 (#dda0dd → #ee82ee) - 變化驚喜感
- **強調色**
  - 深灰 (#333333) - 用於重要文字、邊框
  - 黑色 (#000000) - 用於主要文字
  - 半透明黑 (#00000030) - 用於次要文字
- **特色**：清新舒適，適合日間使用，閱讀體驗佳

**方案三：古典雅緻 + 水墨風格（已選擇）**
- **主色調**
  - 背景：宣紙色 (#f4f1e8) 或 米黃 (#faf8f3)
  - 卡牌背面：淡墨灰 (#e8e5e0) + 墨色邊框 (#2c2c2c)
  - 卡牌正面：水墨漸層背景（依類別不同）
- **類別色系**
  - **天（節氣）**：墨藍漸層 (#4a5568 → #2d3748) - 如天空雲墨
  - **地（空間）**：赭石漸層 (#8b6f47 → #6b5233) - 如大地土色
  - **人（角色）**：朱砂漸層 (#c05621 → #9c4221) - 如人性溫暖
  - **變數（意外）**：墨紫漸層 (#553c9a → #44337a) - 如變幻莫測
- **強調色**
  - 墨黑 (#1a1a1a) - 用於重要文字、邊框
  - 深灰 (#4a4a4a) - 用於主要文字
  - 淺灰 (#8a8a8a) - 用於次要文字
- **特色**：文雅古典，有書卷氣息，適合文青風格

**方案四：科技未來 + 霓虹光效**
- **主色調**
  - 背景：深黑 (#000000) 或 深灰 (#0f0f0f)
  - 卡牌背面：深灰 (#1a1a1a) + 霓虹邊框（依類別發光）
  - 卡牌正面：霓虹漸層背景（依類別不同）
- **類別色系**
  - **天（節氣）**：電光藍漸層 (#00d4ff → #0099cc) - 能量電光
  - **地（空間）**：螢光綠漸層 (#39ff14 → #00ff41) - 數位大地
  - **人（角色）**：霓虹橙漸層 (#ff6b35 → #ff4500) - 人性脈衝
  - **變數（意外）**：電光紫漸層 (#b026ff → #8b00ff) - 變數閃電
- **強調色**
  - 霓虹白 (#ffffff) - 用於重要文字、邊框（帶發光效果）
  - 亮白 (#ffffff) - 用於主要文字
  - 半透明白 (#ffffff40) - 用於次要文字
- **特色**：科技感強，視覺炫酷，適合年輕族群

### 視覺風格方案（四選一）

**方案一：新中式 + 現代極簡**
- **設計特點**
  - 卡牌設計：圓角（12-16px）、微陰影、光暈效果
  - 布局：對稱平衡、留白充足、層次分明
  - 裝飾元素：簡化線條、幾何圖案、傳統紋樣現代化
- **字體**
  - 中文：思源黑體、Noto Sans、或 方正蘭亭黑
  - 英文：Inter、Roboto
- **動畫風格**：流暢優雅、緩慢過渡、東方韻味
- **適用場景**：追求文化底蘊與現代感的平衡

**方案二：日式禪意 + 極簡主義（已選擇）**
- **設計特點**
  - 卡牌設計：大圓角（20-24px）、極簡陰影、留白為主
  - 布局：不對稱美、大量留白、極簡元素
  - 裝飾元素：點線面、幾何圖形、禪意符號
- **字體**
  - 中文：思源宋體、或 日式字體風格
  - 英文：Noto Sans、Hiragino Sans
- **動畫風格**：極簡過渡、淡入淡出、靜謐感
- **適用場景**：追求極簡、靜心、禪意體驗

**方案三：歐式古典 + 華麗裝飾**
- **設計特點**
  - 卡牌設計：小圓角（4-6px）、深陰影、裝飾邊框
  - 布局：對稱華麗、裝飾豐富、層次複雜
  - 裝飾元素：花紋邊框、古典圖案、華麗裝飾
- **字體**
  - 中文：思源宋體、或 古典襯線字體
  - 英文：Playfair Display、Cormorant
- **動畫風格**：華麗轉場、翻頁效果、古典優雅
- **適用場景**：追求華麗、儀式感、古典美學

**方案四：未來科技 + 賽博朋克**
- **設計特點**
  - 卡牌設計：直角或小圓角（2-4px）、強烈陰影、發光邊框
  - 布局：不對稱、層次豐富、資訊密集
  - 裝飾元素：幾何線條、霓虹光效、數位紋理
- **字體**
  - 中文：思源黑體（粗體）、或 科技感字體
  - 英文：Orbitron、Rajdhani、或 等寬字體
- **動畫風格**：快速切換、發光效果、科技感強
- **適用場景**：追求科技感、未來感、年輕潮流

### 卡牌尺寸與呈現方式（響應式設計）

**設計原則**
- 手機優先（Mobile First）設計
- 確保網頁和手機端都有良好體驗
- 考慮 Vercel 部署的靜態資產優化
- 支援觸控操作（手機）和滑鼠操作（桌面）

**卡牌尺寸方案**

**方案一：固定比例 + 響應式縮放（推薦）**
- **卡牌比例**：3:5（寬:高），類似撲克牌比例
- **手機端（< 768px）**
  - 單卡模式：寬度 85vw，高度自動計算（約 141.67vw）
  - 四卡模式（結果頁）：每張寬度 40vw，高度自動計算
  - 最小寬度：280px（確保小螢幕可讀性）
  - 最大寬度：400px（避免過大）
- **平板端（768px - 1024px）**
  - 單卡模式：寬度 60vw，最大 500px
  - 四卡模式：每張寬度 22vw，最大 200px
- **桌面端（> 1024px）**
  - 單卡模式：固定寬度 400px，高度 666.67px
  - 四卡模式：每張固定寬度 200px，高度 333.33px
  - 卡牌間距：20-30px

**方案二：固定尺寸 + 媒體查詢**
- **手機端**：280px × 466.67px
- **平板端**：350px × 583.33px
- **桌面端**：400px × 666.67px
- 優點：精確控制，缺點：需要多個斷點

**卡牌呈現方式**

**單卡抽籤模式**
- **抽卡階段**
  - 手機：全屏居中，卡牌佔據 85% 視窗寬度
  - 桌面：居中顯示，卡牌寬度 400px，上下留白充足
- **結果階段**
  - 手機：卡牌下方顯示內容，可滾動查看
  - 桌面：卡牌左側，內容右側，並排顯示

**四卡占卜模式**
- **抽卡階段（依序）**
  - 手機：單張卡牌全屏顯示，翻開後顯示「下一張」按鈕
  - 桌面：卡牌居中，周圍顯示進度指示（1/4, 2/4, 3/4, 4/4）
- **結果階段**
  - 手機：四張卡牌垂直排列，每張可點擊放大查看
  - 平板：2×2 網格排列
  - 桌面：水平排列，四張並排，下方顯示綜合解讀

**技術實現建議**

**CSS 方案（Tailwind CSS）**
```css
/* 卡牌基礎樣式 */
.card {
  aspect-ratio: 3 / 5;
  width: 85vw;
  max-width: 400px;
  min-width: 280px;
}

/* 響應式斷點 */
@media (min-width: 768px) {
  .card {
    width: 60vw;
    max-width: 500px;
  }
}

@media (min-width: 1024px) {
  .card {
    width: 400px;
  }
}
```

**Framer Motion 動畫**
- 翻牌動畫：使用 `rotateY` 實現 3D 翻轉
- 響應式：動畫時長和緩動函數保持一致，不因螢幕大小改變
- 觸控優化：手機端增加觸控反饋（輕微縮放效果）

**圖片優化（Vercel）**
- 使用 Next.js Image 組件自動優化
- 卡牌背景使用 CSS 漸層（無需圖片）
- 如需裝飾圖案，使用 SVG 格式
- 考慮使用 WebP 格式（如果未來需要）

**觸控與互動優化**
- **手機端**
  - 卡牌點擊區域：整個卡牌區域
  - 防止誤觸：翻牌後 0.5 秒內禁用點擊
  - 滑動支援：結果頁可左右滑動查看多張卡牌
- **桌面端**
  - 滑鼠懸停效果：卡牌輕微上浮（translateY: -5px）
  - 點擊動畫：輕微縮放（scale: 0.98）
  - 鍵盤支援：空格鍵翻牌，方向鍵切換卡牌

**性能優化**
- 使用 CSS `will-change` 提示瀏覽器優化動畫
- 卡牌翻轉使用 `transform` 而非 `width/height`（GPU 加速）
- 懶加載：結果頁的卡牌縮圖延遲載入
- 響應式圖片：根據螢幕密度提供不同解析度

**Vercel 部署考量**
- 靜態資產：卡牌樣式使用 CSS，減少圖片請求
- SSR/CSR 混用：首頁 SSR，抽卡流程 CSR
- 路由優化：使用 Next.js App Router 的動態路由
- 快取策略：靜態資源長期快取，API 路由適當快取

## 四、互動形式設計

### 功能定位

**三大核心功能**
1. **心理認知判斷**：透過「自問」引導自我反思，幫助用戶認識內心狀態
2. **朋友交流互動**：分享卡牌結果，開啟深度對話，增進彼此了解
3. **算命占卜功能**：結合「天意」與「自問」，提供運勢指引與建議

### 流程設計

**模式一：單卡抽籤流程**

**1. 歡迎頁面**
- 標題：「天地人變數卡牌」
- 模式選擇：兩個大按鈕
  * 「單卡抽籤」- 快速指引
  * 「四卡占卜」- 完整運勢
- 簡短說明各模式特色

**2. 單卡抽籤階段**
- 顯示：「從四類中隨機抽取一張卡牌」
- 卡牌背面朝上，居中顯示
- 點擊卡牌 → 翻轉動畫 → 顯示卡牌內容
- 卡牌顯示：
  * 類別標籤（天/地/人/變數）+ 類別色系
  * 卡牌名稱（大字體）
  * 資訊 A（天意）- 主要描述
  * 資訊 B（自問）- 引導問題
- 單卡解讀：
  * 針對該卡牌的簡短建議（50-80字）
  * 適用情境提示
- 「再抽一張」按鈕
- 「分享結果」按鈕

**模式二：四卡占卜流程**

**1. 歡迎頁面**
- 同上，選擇「四卡占卜」模式

**2. 抽卡階段（依序進行）**
- 顯示當前抽第幾張（1/4, 2/4, 3/4, 4/4）
- 顯示當前類別（天/地/人/變數）
- 卡牌背面朝上，排列在畫面中央
- 點擊卡牌 → 翻轉動畫 → 顯示卡牌內容
- 每張卡牌顯示：
  * 類別標籤（天/地/人/變數）+ 類別色系
  * 卡牌名稱
  * 資訊 A（天意）
  * 資訊 B（自問）
- 翻開後顯示「下一張」按鈕
- 第四張翻開後自動進入結果頁面

**3. 結果頁面（四卡占卜）**
- 四張卡牌並排展示（縮圖，可點擊查看大圖）
- 綜合解讀區塊：
  * 標題：「你的運勢解讀」
  * 整體運勢：一段 150-200 字的綜合分析
  * 關鍵詞：3-5 個關鍵詞標籤
  * 建議：針對性的行動建議（分點列出）
  * 時間提示：適合關注的時間段
- 「重新抽卡」按鈕
- 「分享結果」按鈕
- 「查看歷史」按鈕（可選）

### 互動細節
1. **翻牌動畫**：3D 翻轉（Y 軸旋轉 180°）
2. **抽卡動畫**：卡牌從牌堆飛出，帶輕微彈跳
3. **結果出現**：淡入 + 向上滑動
4. **音效**（可選）：翻牌、完成音效

## 五、運勢結果計算邏輯

### 卡牌權重系統（多維度權重）

每張卡牌定義四個維度的權重：
1. **能量值（Energy）**：1-10，代表卡牌的能量強度
2. **影響力（Impact）**：1-10，代表對整體運勢的影響程度
3. **方向性（Direction）**：-1（負面）、0（中性）、1（正面）
4. **時間性（Temporal）**：1（短期）、2（中期）、3（長期）
5. **強度等級（Intensity）**：'low' | 'medium' | 'high' | 'extreme'
6. **關鍵詞（Keywords）**：用於文本生成的關鍵詞陣列

### 完整卡牌權重數據庫（72張）

#### 天（節氣）卡牌權重（24張）

| 編號 | 名稱 | Energy | Impact | Direction | Temporal | Intensity | Keywords |
|------|------|--------|-------|-----------|----------|-----------|----------|
| 01 | 立春 | 3 | 4 | 1 | 3 | low | ['新生', '啟動', '潛力'] |
| 02 | 雨水 | 4 | 5 | 1 | 2 | low | ['資源', '接納', '精算'] |
| 03 | 驚蟄 | 6 | 7 | 1 | 1 | medium | ['打破', '熱鬧', '行動'] |
| 04 | 春分 | 5 | 6 | 0 | 2 | medium | ['平衡', '完美', '狀態'] |
| 05 | 清明 | 6 | 7 | 0 | 2 | medium | ['清朗', '現形', '真相'] |
| 06 | 穀雨 | 5 | 6 | 1 | 2 | medium | ['灌溉', '基礎', '紮實'] |
| 07 | 立夏 | 7 | 7 | 1 | 2 | high | ['擴張', '快長', '加速'] |
| 08 | 小滿 | 6 | 6 | 1 | 2 | medium | ['飽滿', '希望', '等待'] |
| 09 | 芒種 | 8 | 8 | 0 | 1 | high | ['忙碌', '播種', '收穫'] |
| 10 | 夏至 | 10 | 9 | 0 | 2 | extreme | ['高峰', '轉折', '退場'] |
| 11 | 小暑 | 7 | 7 | -1 | 1 | high | ['悶熱', '壓力', '煩躁'] |
| 12 | 大暑 | 9 | 9 | -1 | 1 | extreme | ['頂點', '爆發', '崩潰'] |
| 13 | 立秋 | 6 | 6 | 0 | 2 | medium | ['轉向', '退去', '收尾'] |
| 14 | 處暑 | 5 | 6 | 0 | 2 | medium | ['殘留', '已定', '波折'] |
| 15 | 白露 | 5 | 6 | 0 | 1 | medium | ['轉涼', '冷卻', '決定'] |
| 16 | 秋分 | 5 | 6 | 0 | 2 | medium | ['得失', '盤點', '資源'] |
| 17 | 寒露 | 4 | 5 | -1 | 2 | low | ['下降', '冷清', '溫暖'] |
| 18 | 霜降 | 6 | 7 | -1 | 1 | medium | ['終結', '斷離', '放手'] |
| 19 | 立冬 | 4 | 5 | 0 | 3 | low | ['休息', '回歸', '內心'] |
| 20 | 小雪 | 3 | 4 | 0 | 2 | low | ['減弱', '休息', '喘氣'] |
| 21 | 大雪 | 4 | 5 | 0 | 3 | low | ['封閉', '積蓄', '準備'] |
| 22 | 冬至 | 5 | 8 | 0 | 2 | high | ['黑暗', '轉捩', '希望'] |
| 23 | 小寒 | 6 | 7 | -1 | 1 | medium | ['考驗', '艱難', '毅力'] |
| 24 | 大寒 | 7 | 8 | -1 | 1 | extreme | ['極限', '考驗', '洗禮'] |

#### 地（空間）卡牌權重（12張）

| 編號 | 名稱 | Energy | Impact | Direction | Temporal | Intensity | Keywords |
|------|------|--------|-------|-----------|----------|-----------|----------|
| 01 | 孤峰 | 6 | 7 | 0 | 2 | high | ['孤立', '視野', '資源'] |
| 02 | 深淵 | 5 | 8 | 0 | 2 | high | ['未知', '恐懼', '寶藏'] |
| 03 | 平原 | 5 | 6 | 0 | 2 | medium | ['機會', '競爭', '焦點'] |
| 04 | 迷宮 | 4 | 6 | -1 | 2 | medium | ['牆壁', '打轉', '出口'] |
| 05 | 要塞 | 5 | 6 | 0 | 3 | medium | ['防禦', '安全', '限制'] |
| 06 | 孤島 | 6 | 7 | 0 | 2 | high | ['隔絕', '自給', '本事'] |
| 07 | 十字路口 | 5 | 8 | 0 | 1 | high | ['抉擇', '停滯', '方向'] |
| 08 | 溫室 | 4 | 5 | 0 | 3 | low | ['舒適', '保護', '成長'] |
| 09 | 獨木橋 | 6 | 7 | 0 | 1 | high | ['一人', '無退路', '平衡'] |
| 10 | 廢墟 | 5 | 8 | 0 | 2 | high | ['垮了', '荒涼', '重生'] |
| 11 | 劇場 | 7 | 7 | 1 | 1 | high | ['矚目', '表現', '演技'] |
| 12 | 後花園 | 3 | 4 | 1 | 3 | low | ['私密', '放鬆', '休養'] |

#### 人（角色）卡牌權重（18張）

| 編號 | 名稱 | Energy | Impact | Direction | Temporal | Intensity | Keywords |
|------|------|--------|-------|-----------|----------|-----------|----------|
| 01 | 繼承者 | 6 | 7 | 0 | 3 | high | ['巨人', '承接', '決定'] |
| 02 | 局外人 | 4 | 6 | 0 | 2 | medium | ['距離', '觀察', '格格不入'] |
| 03 | 調停者 | 6 | 7 | 0 | 1 | high | ['衝突', '主持', '委屈'] |
| 04 | 領航員 | 8 | 9 | 1 | 2 | high | ['領導', '責任', '指引'] |
| 05 | 隱士 | 4 | 6 | 0 | 3 | medium | ['獨處', '思考', '隔離'] |
| 06 | 競爭者 | 7 | 8 | 0 | 2 | high | ['對抗', '威脅', '證明'] |
| 07 | 後援者 | 5 | 6 | 1 | 2 | medium | ['隱藏', '支撐', '看見'] |
| 08 | 反叛者 | 7 | 8 | 0 | 1 | high | ['挑戰', '懷疑', '戰鬥'] |
| 09 | 崇拜者 | 5 | 6 | 0 | 2 | medium | ['模仿', '神格', '自卑'] |
| 10 | 導師 | 7 | 7 | 1 | 2 | high | ['傳授', '照顧', '價值'] |
| 11 | 流浪者 | 5 | 6 | 0 | 1 | medium | ['不穩定', '離開', '承諾'] |
| 12 | 救贖者 | 6 | 7 | 1 | 2 | high | ['解決', '苦海', '救贖'] |
| 13 | 旁觀者 | 4 | 5 | 0 | 2 | low | ['保護', '冷血', '看著'] |
| 14 | 背叛者 | 6 | 8 | -1 | 1 | high | ['轉向', '離開', '利益'] |
| 15 | 學徒 | 5 | 6 | 1 | 2 | medium | ['學習', '犯錯', '謙卑'] |
| 16 | 玩伴 | 4 | 5 | 1 | 1 | low | ['享樂', '當下', '責任'] |
| 17 | 守門人 | 6 | 7 | 0 | 2 | high | ['權力', '決定', '重要'] |
| 18 | 陌生人 | 4 | 6 | -1 | 2 | medium | ['孤寂', '無法交會', '走遠'] |

#### 變數（意外）卡牌權重（18張）

| 編號 | 名稱 | Energy | Impact | Direction | Temporal | Intensity | Keywords |
|------|------|--------|-------|-----------|----------|-----------|----------|
| 01 | 閃電 | 9 | 10 | -1 | 1 | extreme | ['打擊', '摧毀', '核心'] |
| 02 | 地震 | 8 | 9 | -1 | 1 | extreme | ['動搖', '裂痕', '重新'] |
| 03 | 彩虹 | 6 | 5 | 1 | 1 | medium | ['誘惑', '機會', '分心'] |
| 04 | 迷路 | 5 | 6 | 0 | 1 | medium | ['失效', '陌生', '直覺'] |
| 05 | 止步 | 4 | 6 | -1 | 1 | medium | ['關上', '無法前進', '轉身'] |
| 06 | 加速 | 7 | 7 | 0 | 1 | high | ['快', '無法掌控', '煞車'] |
| 07 | 空白 | 3 | 5 | 0 | 2 | low | ['消失', '寂靜', '存在'] |
| 08 | 禮物 | 6 | 6 | 1 | 1 | medium | ['支援', '代價', '交換'] |
| 09 | 醜聞 | 7 | 8 | -1 | 1 | high | ['揭開', '真相', '解脫'] |
| 10 | 遺失 | 6 | 7 | -1 | 1 | high | ['弄丟', '重要', '失去'] |
| 11 | 相遇 | 6 | 7 | 1 | 2 | high | ['遇到', '改變', '冒險'] |
| 12 | 重逢 | 6 | 7 | 0 | 2 | high | ['陰影', '舊人', '了結'] |
| 13 | 崩塌 | 8 | 9 | -1 | 1 | extreme | ['瓦解', '失誤', '重新開始'] |
| 14 | 狂風 | 7 | 7 | -1 | 1 | high | ['嘈雜', '謠言', '心跳'] |
| 15 | 乾涸 | 4 | 6 | -1 | 2 | medium | ['耗盡', '空', '枯萎'] |
| 16 | 火花 | 6 | 8 | 1 | 1 | high | ['靈感', '點燃', '燒掉'] |
| 17 | 陷阱 | 6 | 7 | -1 | 1 | high | ['圈套', '抱怨', '爬出來'] |
| 18 | 奇蹟 | 10 | 10 | 1 | 1 | extreme | ['轉機', '不合理', '警告'] |

### 計算公式設計

```typescript
interface CardWeight {
  id: string;
  name: string;
  category: '天' | '地' | '人' | '變數';
  energy: number;      // 1-10
  impact: number;      // 1-10
  direction: number;   // -1, 0, 1
  temporal: number;    // 1, 2, 3
  keywords: string[];
  intensity: 'low' | 'medium' | 'high' | 'extreme';
}

interface FortuneCalculation {
  baseScore: number;           // 基礎分數
  interactionScore: number;    // 交互作用分數
  totalScore: number;          // 綜合分數
  fortuneLevel: '極差' | '不佳' | '普通' | '良好' | '極佳';
  fortuneDirection: '下降' | '持平' | '上升';
  timePrediction: '短期' | '中期' | '長期';
}

function calculateFortune(
  skyCard: CardWeight,
  earthCard: CardWeight,
  humanCard: CardWeight,
  variableCard: CardWeight
): FortuneCalculation {
  
  // 1. 類別基礎權重
  const categoryWeights = {
    天: 0.30,  // 能量基礎
    地: 0.25,  // 環境基礎
    人: 0.25,  // 關係基礎
    變數: 0.20 // 變動基礎
  };
  
  // 2. 基礎分數計算
  const skyBase = (skyCard.energy * 0.4 + skyCard.impact * 0.6) 
                  * categoryWeights.天 * skyCard.direction;
  const earthBase = (earthCard.energy * 0.4 + earthCard.impact * 0.6) 
                    * categoryWeights.地 * earthCard.direction;
  const humanBase = (humanCard.energy * 0.4 + humanCard.impact * 0.6) 
                    * categoryWeights.人 * humanCard.direction;
  const variableBase = (variableCard.energy * 0.5 + variableCard.impact * 0.5) 
                       * categoryWeights.變數 * variableCard.direction;
  
  const baseScore = skyBase + earthBase + humanBase + variableBase;
  
  // 3. 交互作用計算（卡牌相性）
  let interactionScore = 0;
  
  // 3.1 極端卡牌組合加成
  const extremeCards = [skyCard, earthCard, humanCard, variableCard]
    .filter(c => c.intensity === 'extreme').length;
  if (extremeCards >= 2) {
    interactionScore += extremeCards * 2; // 多張極端卡牌會放大效果
  }
  
  // 3.2 方向性衝突/協調
  const positiveCount = [skyCard, earthCard, humanCard, variableCard]
    .filter(c => c.direction > 0).length;
  const negativeCount = [skyCard, earthCard, humanCard, variableCard]
    .filter(c => c.direction < 0).length;
  
  if (positiveCount >= 3) {
    interactionScore += 3; // 多數正面，協調加成
  } else if (negativeCount >= 3) {
    interactionScore -= 3; // 多數負面，衝突減分
  }
  
  // 3.3 變數卡牌的特殊影響
  if (variableCard.intensity === 'extreme') {
    interactionScore += variableCard.direction * 5; // 極端變數放大影響
  }
  
  // 3.4 時間性協調
  const temporalAvg = (skyCard.temporal + earthCard.temporal + 
                       humanCard.temporal + variableCard.temporal) / 4;
  if (temporalAvg <= 1.5) {
    interactionScore += 2; // 短期集中，影響明顯
  } else if (temporalAvg >= 2.5) {
    interactionScore -= 1; // 長期分散，影響緩和
  }
  
  // 4. 綜合分數
  const totalScore = baseScore + interactionScore;
  
  // 5. 運勢等級判定
  let fortuneLevel: '極差' | '不佳' | '普通' | '良好' | '極佳';
  if (totalScore <= -15) fortuneLevel = '極差';
  else if (totalScore <= -5) fortuneLevel = '不佳';
  else if (totalScore <= 5) fortuneLevel = '普通';
  else if (totalScore <= 15) fortuneLevel = '良好';
  else fortuneLevel = '極佳';
  
  // 6. 運勢方向判定
  const directionSum = skyCard.direction + earthCard.direction + 
                       humanCard.direction + variableCard.direction;
  let fortuneDirection: '下降' | '持平' | '上升';
  if (directionSum <= -2) fortuneDirection = '下降';
  else if (directionSum >= 2) fortuneDirection = '上升';
  else fortuneDirection = '持平';
  
  // 7. 時間預測（取平均時間性）
  let timePrediction: '短期' | '中期' | '長期';
  if (temporalAvg <= 1.5) timePrediction = '短期';
  else if (temporalAvg >= 2.5) timePrediction = '長期';
  else timePrediction = '中期';
  
  return {
    baseScore,
    interactionScore,
    totalScore,
    fortuneLevel,
    fortuneDirection,
    timePrediction
  };
}
```

### 算命台詞生成系統

```typescript
interface FortuneText {
  opening: string;      // 開場白
  analysis: string;     // 分析段落
  advice: string[];     // 建議列表
  closing: string;      // 結語
}

function generateFortuneText(
  cards: CardWeight[],
  calculation: FortuneCalculation
): FortuneText {
  const [skyCard, earthCard, humanCard, variableCard] = cards;
  
  // 1. 開場白（根據運勢等級）
  const openingTemplates = {
    '極佳': [
      '此刻的你，正處於一個能量充沛的階段。',
      '你現在擁有的條件，足以支撐你走向更高的層次。',
      '這是一個充滿可能性的時刻。'
    ],
    '良好': [
      '整體而言，你的運勢正在穩步上升。',
      '雖然有些挑戰，但你有足夠的資源應對。',
      '現在是行動的好時機。'
    ],
    '普通': [
      '你正處於一個轉換期，需要仔細觀察。',
      '當前的狀態相對平穩，但也暗藏變化。',
      '這是一個需要耐心等待的階段。'
    ],
    '不佳': [
      '你現在面臨一些困難，需要謹慎應對。',
      '當前的環境對你不太友善，需要調整策略。',
      '這是一個考驗你韌性的時刻。'
    ],
    '極差': [
      '你正處於一個極具挑戰的階段。',
      '當前的困境雖然嚴峻，但也可能是轉機的開始。',
      '這是最需要堅持的時刻。'
    ]
  };
  
  const opening = openingTemplates[calculation.fortuneLevel][
    Math.floor(Math.random() * openingTemplates[calculation.fortuneLevel].length)
  ];
  
  // 2. 分析段落（結合四張卡牌）
  const analysisParts: string[] = [];
  
  // 2.1 天（能量）分析
  if (skyCard.intensity === 'extreme') {
    analysisParts.push(`從「${skyCard.name}」來看，你的能量狀態處於${skyCard.direction > 0 ? '高峰' : '低谷'}，這將深刻影響你的行動。`);
  } else {
    analysisParts.push(`「${skyCard.name}」顯示你的能量${skyCard.direction > 0 ? '正在累積' : skyCard.direction < 0 ? '需要恢復' : '相對穩定'}。`);
  }
  
  // 2.2 地（環境）分析
  analysisParts.push(`在「${earthCard.name}」的環境中，你面臨${earthCard.direction > 0 ? '有利' : earthCard.direction < 0 ? '不利' : '中性'}的條件。`);
  
  // 2.3 人（角色）分析
  analysisParts.push(`作為「${humanCard.name}」，你在關係中的位置${humanCard.direction > 0 ? '對你有利' : humanCard.direction < 0 ? '需要調整' : '相對穩定'}。`);
  
  // 2.4 變數（意外）分析
  if (variableCard.intensity === 'extreme') {
    analysisParts.push(`特別要注意「${variableCard.name}」這個變數，它將${variableCard.direction > 0 ? '帶來重大轉機' : '造成重大衝擊'}。`);
  } else {
    analysisParts.push(`「${variableCard.name}」這個變數會${variableCard.direction > 0 ? '帶來一些機會' : variableCard.direction < 0 ? '帶來一些挑戰' : '保持現狀'}。`);
  }
  
  // 2.5 綜合分析
  if (calculation.interactionScore > 5) {
    analysisParts.push('這些因素相互強化，形成了一個強烈的趨勢。');
  } else if (calculation.interactionScore < -5) {
    analysisParts.push('這些因素相互衝突，你需要找到平衡點。');
  } else {
    analysisParts.push('這些因素相互影響，形成了一個複雜的局面。');
  }
  
  const analysis = analysisParts.join(' ');
  
  // 3. 建議生成（根據卡牌關鍵詞和運勢方向）
  const advice: string[] = [];
  
  // 3.1 基於天（能量）的建議
  if (skyCard.energy < 5) {
    advice.push('你需要先恢復能量，不要急於行動。');
  } else if (skyCard.energy > 7) {
    advice.push('你現在能量充沛，適合展開重要計劃。');
  }
  
  // 3.2 基於地（環境）的建議
  if (earthCard.name === '十字路口') {
    advice.push('你正站在關鍵的抉擇點，需要相信自己的直覺。');
  } else if (earthCard.name === '孤島') {
    advice.push('雖然孤立，但這也是你展現獨立能力的機會。');
  }
  
  // 3.3 基於人（角色）的建議
  if (humanCard.name === '領航員') {
    advice.push('作為領導者，你需要承擔責任，但也需要坦誠面對不確定性。');
  } else if (humanCard.name === '隱士') {
    advice.push('獨處是為了尋找答案，但不要完全逃避現實。');
  }
  
  // 3.4 基於變數（意外）的建議
  if (variableCard.name === '閃電' || variableCard.name === '地震') {
    advice.push('面對突如其來的打擊，保護核心價值比什麼都重要。');
  } else if (variableCard.name === '奇蹟') {
    advice.push('當奇蹟發生時，要思考它帶來的意義，而不只是慶幸。');
  }
  
  // 3.5 基於運勢方向的建議
  if (calculation.fortuneDirection === '上升') {
    advice.push('運勢正在上升，把握機會，但也要保持謙遜。');
  } else if (calculation.fortuneDirection === '下降') {
    advice.push('運勢暫時下降，這是調整和準備的好時機。');
  }
  
  // 4. 結語（根據時間預測）
  const closingTemplates = {
    '短期': [
      '在未來一週內，這些影響會逐漸顯現。',
      '短期內，你需要密切關注局勢的變化。',
      '接下來幾天，是關鍵的觀察期。'
    ],
    '中期': [
      '在未來一個月內，這些趨勢會持續發展。',
      '中期來看，你需要有耐心等待結果。',
      '這個月是重要的轉換期。'
    ],
    '長期': [
      '這是一個長期的趨勢，需要持續關注。',
      '長期來看，這些影響會逐漸深化。',
      '未來幾個月，是重要的發展階段。'
    ]
  };
  
  const closing = closingTemplates[calculation.timePrediction][
    Math.floor(Math.random() * closingTemplates[calculation.timePrediction].length)
  ];
  
  return { opening, analysis, advice, closing };
}

// 單卡解讀邏輯
function interpretSingleCard(card: CardWeight) {
  return {
    meaning: card.keywords.join('、'),
    advice: generateSingleCardAdvice(card),
    context: suggestContext(card.category)
  };
}
```

### 結果呈現格式

**四卡占卜結果**
- **整體運勢**：一段 150-200 字的綜合解讀
  - 結合天（能量）、地（環境）、人（角色）、變數（意外）四個維度
  - 分析當前狀態與未來趨勢
- **關鍵詞**：3-5 個關鍵詞標籤（從四張卡牌中提取）
- **建議**：針對性的行動建議（分點列出，3-4 條）
  - 基於「天」牌：能量管理建議
  - 基於「地」牌：環境適應建議
  - 基於「人」牌：人際關係建議
  - 基於「變數」牌：應對變動建議
- **時間提示**：適合關注的時間段（如「未來一週」、「本月」）
- **重點領域**：建議特別關注的面向（工作/感情/健康/成長等）

**單卡抽籤結果**
- **卡牌內容**：完整顯示天意與自問
- **簡短解讀**：50-80 字的即時建議
- **適用情境**：提示這張卡牌適合思考的問題或場景
- **延伸思考**：引導用戶深入反思的問題

## 六、檔案結構建議

```
app/
├── page.tsx                 # 首頁（歡迎頁 + 模式選擇）
├── single/
│   ├── page.tsx            # 單卡抽籤頁面
│   └── result/
│       └── page.tsx        # 單卡結果頁面
├── fortune/
│   ├── page.tsx            # 四卡占卜主頁面
│   ├── [step]/
│   │   └── page.tsx        # 動態路由（1/4, 2/4, 3/4, 4/4）
│   └── result/
│       └── page.tsx        # 四卡結果頁面
├── components/
│   ├── Card.tsx            # 卡牌組件（通用）
│   ├── CardBack.tsx        # 卡牌背面
│   ├── CardFront.tsx       # 卡牌正面
│   ├── DrawAnimation.tsx  # 抽卡動畫
│   ├── SingleCardResult.tsx # 單卡結果展示
│   ├── FortuneResult.tsx  # 四卡結果展示
│   ├── ModeSelector.tsx   # 模式選擇組件
│   └── ShareButton.tsx    # 分享按鈕
├── lib/
│   ├── cards.ts            # 卡牌數據（四類完整數據）
│   ├── fortune.ts          # 運勢計算邏輯（四卡）
│   ├── singleCard.ts      # 單卡解讀邏輯
│   ├── share.ts            # 分享功能
│   └── utils.ts            # 工具函數
├── hooks/
│   ├── useCardDraw.ts     # 抽卡邏輯 Hook
│   ├── useFortune.ts      # 運勢計算 Hook
│   └── useHistory.ts      # 歷史記錄 Hook
└── types/
    └── card.ts             # TypeScript 類型定義
```

## 七、特殊功能建議

### 核心功能
1. **保存歷史**：LocalStorage 保存最近 20 次結果
   - 區分單卡與四卡記錄
   - 可查看歷史、重新解讀
   - 支援匯出為文字檔

2. **分享功能**：生成圖片或文字分享
   - 單卡分享：卡牌圖片 + 簡短解讀
   - 四卡分享：四張卡牌縮圖 + 綜合運勢摘要
   - 支援分享到：Line、Facebook、Twitter、複製連結

3. **動畫模式**：可開關動畫（效能考量）
   - 完整動畫：翻牌、抽卡、結果展示
   - 簡化模式：減少動畫，提升效能

4. **響應式設計**：手機優先，支援桌面
   - 手機：單欄顯示，卡牌全屏
   - 平板：雙欄顯示，卡牌並排
   - 桌面：多欄顯示，完整體驗

### 互動功能（針對三大使用場景）

**心理認知判斷功能**
- **反思筆記**：每張卡牌可添加個人筆記
- **情緒標記**：記錄抽卡時的情緒狀態
- **追蹤變化**：對比不同時期的抽卡結果
- **深度引導**：針對「自問」提供引導式思考

**朋友交流互動功能**
- **雙人抽卡**：兩人同時抽卡，對比結果
- **話題生成器**：根據卡牌生成討論話題
- **分享房間**：建立臨時分享連結，朋友可查看結果
- **互動留言**：朋友可在分享結果下留言討論

**算命占卜功能**
- **運勢日曆**：記錄每日抽卡，形成運勢趨勢
- **卡牌配對**：分析特定卡牌組合的意義
- **時段建議**：根據「天」牌建議最佳行動時段
- **運勢提醒**：可設定提醒，定期抽卡

## 八、開發優先順序

### Phase 1：核心功能（MVP）
1. **卡牌數據結構**
   - 定義四類卡牌的完整數據結構
   - 建立卡牌數據庫（天24、地12、人18、變數18）

2. **基本抽卡流程**
   - 實現單卡抽籤模式
   - 實現四卡占卜模式（依序抽卡）
   - 隨機抽卡算法

3. **簡單翻牌動畫**
   - 卡牌翻轉動畫（3D 翻轉）
   - 卡牌出現動畫

4. **結果計算邏輯**
   - 單卡解讀邏輯
   - 四卡綜合解讀邏輯
   - 關鍵詞提取

5. **基本UI**
   - 歡迎頁面（模式選擇）
   - 抽卡頁面
   - 結果頁面

### Phase 2：體驗優化
1. **進階動畫效果**
   - 抽卡動畫（從牌堆飛出）
   - 結果淡入動畫
   - 卡牌懸浮效果

2. **視覺設計**
   - 四類卡牌色系應用
   - 卡牌設計（圓角、陰影、光暈）
   - 響應式布局

3. **音效（可選）**
   - 翻牌音效
   - 抽卡音效
   - 完成音效

4. **結果頁面美化**
   - 綜合解讀排版
   - 關鍵詞標籤設計
   - 建議列表美化

### Phase 3：進階功能
1. **歷史記錄**
   - LocalStorage 儲存
   - 歷史列表查看
   - 重新解讀功能

2. **分享功能**
   - 圖片生成（html2canvas）
   - 文字分享
   - 社群媒體分享

3. **互動功能**
   - 反思筆記
   - 雙人抽卡
   - 話題生成器

### Phase 4：進階優化
1. **算命功能**
   - 運勢日曆
   - 卡牌配對分析
   - 時段建議

2. **個人化設定**
   - 主題切換
   - 動畫開關
   - 字體大小調整

3. **數據分析**
   - 抽卡統計
   - 常用卡牌分析
   - 運勢趨勢圖

